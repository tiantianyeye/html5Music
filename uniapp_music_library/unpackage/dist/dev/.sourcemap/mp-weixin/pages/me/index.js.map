{"version":3,"sources":["webpack:///./E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.js","webpack:///E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.vue","webpack:///./E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.vue","webpack:///E:/我的资料/mytest/uniapp/我的音乐 - 副本/components/YearProgress.vue","webpack:///./E:/我的资料/mytest/uniapp/我的音乐 - 副本/components/YearProgress.vue","webpack:///E:/我的资料/mytest/uniapp/我的音乐 - 副本/components/YearProgress.vue?2d36","webpack:///E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.vue?3e38"],"names":["__webpack_require__","Page","_mpvuePageFactory2","default","App","__WEBPACK_IMPORTED_MODULE_1__D_ruanjian_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_0f5c5fe2_hasScoped_false_preserveWhitespace_false_D_ruanjian_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_MP_WEIXIN_true_D_ruanjian_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_index_vue__","disposed","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_D_ruanjian_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_MP_WEIXIN_true_D_ruanjian_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_index_vue___default","a","options","__file","esModule","Object","keys","some","key","substr","console","error","functional","__webpack_exports__","_config","_index","_YearProgress","data","userInfo","avatarUrl","nickName","rewardImg","created","this","uni","getStorageSync","components","YearProgress","methods","addBook","isbn","post","addBookUrl","uid","nickname","then","dataObj","hideLoading","showToast","title","showModal","content","showCancel","scanBook","that","showLoading","scanCode","success","res","result","fail","onGotUserInfo","e","getData","target","Promise","resolve","reject","login","code","obj","city","country","gender","language","province","get","loginUrl","log","tmpObj","setStorageSync","catch","ex","previewImage","event","imgUrl","dataset","src","current","urls","__WEBPACK_IMPORTED_MODULE_1__D_ruanjian_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_7b94d74a_hasScoped_true_preserveWhitespace_false_D_ruanjian_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_MP_WEIXIN_true_D_ruanjian_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_YearProgress_vue__","__WEBPACK_IMPORTED_MODULE_0__D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_runtime_D_ruanjian_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_D_ruanjian_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_MP_WEIXIN_true_D_ruanjian_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_YearProgress_vue___default","getDayOfYear","isLeapYear","year","computed","Date","getFullYear","days","start","setMonth","setDate","offset","now","getTime","Math","floor","progressData","toFixed","render","_h","$createElement","_c","_self","staticClass","attrs","percent","stroke-width","show-info","activeColor","backgroundColor","active","_v","_s","_withStripped","esExports","staticRenderFns","_vm","alt","open-type","eventid","on","getuserinfo","mpcomid","directives","name","rawName","value","expression","click","data-src"],"mappings":"yDACA,QAAAA,EAAA,QACAA,EAAA,wDACAC,MAAK,EAAAC,EAAAC,SAAYC,mHCHjBC,EAAAL,EAAA,IAAAM,GAAA,EAKA,IAMAC,EAVA,SAAAC,GACAF,GACAN,EAAA,KAaAS,EAXAT,EAAA,EAWAU,CACAC,EAAAC,EACAP,EAAA,EACAE,EANA,KAEA,MAQAE,EAAAI,QAAAC,OAAA,4DACAL,EAAAM,UAAAC,OAAAC,KAAAR,EAAAM,UAAAG,KAAA,SAAAC,GAA+E,kBAAAA,GAAA,OAAAA,EAAAC,OAAA,QAA0DC,QAAAC,MAAA,mDACzIb,EAAAI,QAAAU,YAAmCF,QAAAC,MAAA,qHAkBnCE,EAAA,QAAAf,EAAA,oSCtBAgB,EAAAzB,EAAA,GACA0B,EAAA1B,EAAA,GACA2B,EAAA3B,EAAA,mDAEI4B,KADW,WAEP,OACIC,UACIC,UAAW,0BACXC,SAAU,IAGvBC,UAAU,wDAGTC,QAXW,WAYPC,KAAKL,SAAWM,EAAIC,eAAe,aAAeF,KAAKL,UAE3DQ,YACIC,wBAEJC,SACIC,QADI,SACIC,IAEJ,EAAAf,EAAAgB,MAAKC,cACDF,OACAG,IAHOV,KAGGL,SAASe,IACnBC,SAJOX,KAIQL,SAASE,WACzB,GACFe,KAAK,SAACC,GACHZ,EAAIa,cACa,MAAdD,EAAQnB,MACtB,EAAAF,EAAAuB,WAAaF,EAAQG,MAArB,QACkC,cAAdH,EAAQnB,KACbO,EAAIgB,WACAD,YACAE,QAAYX,EAAZ,WACAY,YAAY,IAEG,UAAdN,EAAQnB,KACbO,EAAIgB,WACAD,MAAO,OACPE,QAAYL,EAAQG,MAApB,QACAG,YAAY,IAGhBlB,EAAIgB,WACAD,MAAO,OACPG,YAAY,OAM5BC,SAjCI,WAmCA,IAAIC,EAAOrB,KACXC,EAAIqB,aACAN,MAAO,WAEXf,EAAIsB,UACAC,QADS,SACAC,GACL,IAAIC,EAASD,EAAIC,OACdA,GACCL,EAAKf,QAAQoB,IAGrBC,KAAM,YACjB,EAAAnC,EAAAuB,WAAU,YAIPa,cAnDI,SAmDUC,GACV,IAAIR,EAAOrB,KAChB8B,EAAUD,EAAEE,OAEQ9B,EAAIC,eAAe,aAG9B,IAAI8B,QAAQ,SAACC,EAASC,GAClBjC,EAAIkC,OACAX,QAAS,SAASC,GACd,IAAIW,EAAOX,EAAIW,KACfH,EAAQG,QAInBxB,KAAK,SAACwB,GAClBnC,EAAIqB,aACHN,MAAO,WAUR,IAAIqB,GACHD,KAAMA,EACNzC,UACCC,UAAWkC,EAAQnC,SAASC,UAC5B0C,KAAMR,EAAQnC,SAAS2C,KACvBC,QAAST,EAAQnC,SAAS4C,QAC1BC,OAAQV,EAAQnC,SAAS6C,OACzBC,SAAUX,EAAQnC,SAAS8C,SAC3B5C,SAAUiC,EAAQnC,SAASE,SAC3B6C,SAAUZ,EAAQnC,SAAS+C,YAG7B,EAAAlD,EAAAmD,KAAIC,WAAUP,GAAK,GAClBzB,KAAK,SAAClB,GACNP,QAAQ0D,IAAInD,EAAK,IACjB,IAAIgB,EAAMhB,EAAKgB,IACXoC,KAAUpC,OAAQ2B,EAAI1C,UAC1BM,EAAI8C,eAAe,WAAWD,GAC9BzB,EAAK1B,SAAWmD,EAChB7C,EAAIa,gBAEJkC,MAAM,SAACC,IACP,EAAAzD,EAAAuB,WAAU,aAMdmC,aA1GU,SA0GGC,GACZ,IAAIC,EAASD,EAAMpB,OAAOsB,QAAQC,IAClCrD,EAAIiD,cACHK,QAASH,EACTI,MAAOJ,sICvJXK,EAAA3F,EAAA,IAAAM,GAAA,EAKA,IAMAC,EAVA,SAAAC,GACAF,GACAN,EAAA,KAaAS,EAXAT,EAAA,EAWAU,CACAkF,EAAAhF,EACA+E,EAAA,EACApF,EANA,kBAEA,MAQAE,EAAAI,QAAAC,OAAA,oEACAL,EAAAM,UAAAC,OAAAC,KAAAR,EAAAM,UAAAG,KAAA,SAAAC,GAA+E,kBAAAA,GAAA,OAAAA,EAAAC,OAAA,QAA0DC,QAAAC,MAAA,mDACzIb,EAAAI,QAAAU,YAAmCF,QAAAC,MAAA,4HAkBnCE,EAAA,QAAAf,EAAA,wHC3BImB,KADW,WAEP,UAGJK,QALW,aAQXM,SACIsD,aADK,WAED,OAAO3D,KAAK4D,WAAY,IAAK,KAGjCA,WALK,WAMD,OAAG5D,KAAK6D,KAAM,KAAO,GAEZ7D,KAAK6D,KAAK,GAAI,GAAKA,KAAK,KAAM,IAO/CC,UACID,KADM,WAEF,OAAO,IAAIE,MAAOC,eAEtBC,KAJM,WAKF,IAAIC,EAAQ,IAAIH,KAChBG,EAAMC,SAAS,GACfD,EAAME,QAAQ,GAEd,IAAIC,EAASN,KAAKO,MAAQJ,EAAMK,UAChC,OAAOC,KAAKC,MAAMJ,EAAO,IAAK,GAAG,GAAG,IAAI,GAE5CK,aAZM,WAaF,OAAkB,IAAV1E,KAAKiE,KAASjE,KAAK2D,gBAAgBgB,QAAQ,uCCnD/D,IAAAC,EAAA,WAA0B,IAAaC,EAAb7E,KAAa8E,eAA0BC,EAAvC/E,KAAuCgF,MAAAD,IAAAF,EACjE,OAAAE,EAAA,OACAE,YAAA,gBACGF,EAAA,YACHG,OACAC,QAL0BnF,KAK1B0E,aACAU,eAAA,IACAC,YAAA,GACAC,YAAA,UACAC,gBAAA,OACAC,OAAA,UAEGT,EAAA,KACHE,YAAA,QAb0BjF,KAcvByF,GAduBzF,KAcvB0F,GAduB1F,KAcvB6D,MAAA,SAduB7D,KAcvB0F,GAduB1F,KAcvBiE,MAAA,YAGHW,EAAAe,eAAA,EACA,IAAAC,GAAiBhB,SAAAiB,oBACjBvG,EAAA,qCCnBA,IAAAsF,EAAA,WAA0B,IAAAkB,EAAA9F,KAAa6E,EAAAiB,EAAAhB,eAA0BC,EAAAe,EAAAd,MAAAD,IAAAF,EACjE,OAAAE,EAAA,OACAE,YAAA,cACGF,EAAA,OACHE,YAAA,aACGF,EAAA,OACHG,OACA5B,IAAAwC,EAAAnG,SAAAC,UACAmG,IAAA,MAEGD,EAAAnG,SAAA,SAAAoF,EAAA,KACHE,YAAA,aACGa,EAAAL,GAAAK,EAAAJ,GAAAI,EAAAnG,SAAAE,aAAAkF,EAAA,UACHE,YAAA,YACAC,OACAc,YAAA,cACAC,QAAA,SAEAC,IACAC,YAAAL,EAAAlE,iBAEGkE,EAAAL,GAAA,cAAAV,EAAA,gBACHG,OACAkB,QAAA,WAEGrB,EAAA,UACHsB,aACAC,KAAA,OACAC,QAAA,SACAC,MAAAV,EAAAnG,SAAA,SACA8G,WAAA,sBAEAxB,YAAA,MACAC,OACAe,QAAA,SAEAC,IACAQ,MAAAZ,EAAA1E,YAEG0E,EAAAL,GAAA,UAAAV,EAAA,OACHE,YAAA,eACGF,EAAA,SACHG,OACA5B,IAAAwC,EAAAhG,UACA6G,WAAAb,EAAAhG,UACAmG,QAAA,SAEAC,IACAQ,MAAAZ,EAAA5C,gBAEG6B,EAAA,KAAAe,EAAAL,GAAA,6BAGHb,EAAAe,eAAA,EACA,IAAAC,GAAiBhB,SAAAiB,oBACjBvG,EAAA","file":"pages/me/index.js","sourcesContent":["\nimport pageFactory from 'mpvue-page-factory'\nimport App from 'E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.vue'\nPage(pageFactory(App))\n\n\n\n// WEBPACK FOOTER //\n// ./E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\extract-text-webpack-plugin\\\\dist\\\\loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\vue-style-loader!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\css-var-loader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\style-compiler\\\\index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f5c5fe2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\css-upx-loader.js?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":1}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\postcss-loader?{\\\"config\\\":{\\\"path\\\":\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\.postcssrc.js\\\"},\\\"sourceMap\\\":true}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\less-loader?{\\\"sourceMap\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\babel-loader?{\\\"babelrc\\\":false,\\\"retainLines\\\":true,\\\"presets\\\":[[\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-env\\\",{\\\"modules\\\":\\\"commonjs\\\",\\\"targets\\\":{\\\"browsers\\\":[\\\"> 1%\\\",\\\"last 2 versions\\\",\\\"not ie <= 8\\\"]}}],\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-stage-2\\\"],\\\"plugins\\\":[[\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-runtime\\\",{\\\"helpers\\\":false,\\\"polyfill\\\":false,\\\"regenerator\\\":true,\\\"moduleName\\\":\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-runtime\\\"}],\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-decorators-legacy\\\"]}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\template-compiler\\\\index?{\\\"id\\\":\\\"data-v-0f5c5fe2\\\",\\\"hasScoped\\\":false,\\\"preserveWhitespace\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"html\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"E:\\\\我的资料\\\\mytest\\\\uniapp\\\\我的音乐 - 副本\\\\pages\\\\me\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-0f5c5fe2\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-0f5c5fe2\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.vue\n// module id = 28\n// module chunks = 2","\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport {loginUrl,doubanBookUrl,addBookUrl} from '@/config';\r\nimport {get,post,showToast} from '../../utils/index';\r\nimport YearProgress from '@/components/YearProgress';\r\nexport default {\r\n    data(){\r\n        return {\r\n            userInfo: {\r\n                avatarUrl: '/static/img/unlogin.png',\r\n                nickName: ''\r\n            },\r\n\t\t\t//打赏图片的地址\r\n\t\t\trewardImg:'https://www.burtyang.top:8080/static/img/reward.jpg'\r\n        }\r\n    },\r\n    created(){\r\n        this.userInfo = uni.getStorageSync('userInfo') || this.userInfo;\r\n    },\r\n    components: {\r\n        YearProgress\r\n    },\r\n    methods:{\r\n        addBook(isbn){\r\n            var that = this;\r\n            post(addBookUrl, {\r\n                isbn,\r\n                uid: that.userInfo.uid,\r\n                nickname: that.userInfo.nickName\r\n            }, true)\r\n            .then((dataObj)=>{\r\n                uni.hideLoading();\r\n                if(dataObj.data=='OK'){  //该图书已经被添加了\r\n\t\t\t\t\tshowToast(`${dataObj.title}添加成功`);\r\n                }else if(dataObj.data=='Not exists'){\r\n                    uni.showModal({\r\n                        title: `未找到`,\r\n                        content: `${isbn}:编号图书未找到`,\r\n                        showCancel: false\r\n                    });\r\n                }else if(dataObj.data=='Exists'){\r\n                    uni.showModal({\r\n                        title: '重复添加',\r\n                        content: `${dataObj.title}被添加过了`,\r\n                        showCancel: false\r\n                    });\r\n                }else{\r\n                    uni.showModal({\r\n                        title: '其它错误',\r\n                        showCancel: false\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        //扫描书籍\r\n        scanBook(){\r\n            // 允许从相机和相册扫码\r\n            var that = this;\r\n            uni.showLoading({\r\n                title: '加载中...'\r\n            });\r\n            uni.scanCode({\r\n                success (res) {\r\n                    var result = res.result;  //是一个图书的ISBN值, 例如9787121312007;\r\n                    if(result){\r\n                        that.addBook(result);\r\n                    }\r\n                },\r\n                fail: function(){\r\n\t\t\t\t\tshowToast('扫描失败');\r\n                }\r\n            });\r\n        },\r\n        onGotUserInfo(e){\r\n            var that = this;\r\n\t\t\tvar getData = e.target;  //用户信息都在这里\r\n\t\t\t//console.log(getData)\r\n            let userInfo = uni.getStorageSync('userInfo');\r\n            if(!userInfo){\r\n                //授权登陆，获取用户信息\r\n                new Promise((resolve, reject)=>{\r\n                    uni.login({\r\n                        success: function(res){\r\n                            var code = res.code;\r\n                            resolve(code);\r\n                        }\r\n                    });\r\n                })\r\n                .then((code)=>{\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '登陆中...'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t/****\r\n                    return new Promise((resolve, reject)=>{\r\n                        uni.getUserInfo({\r\n                            success: function(res){\r\n                                resolve({code, userInfo:res.userInfo});\r\n                            }\r\n                        });\r\n                    }); ***/\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tcode: code,\r\n\t\t\t\t\t\tuserInfo: {\r\n\t\t\t\t\t\t\tavatarUrl: getData.userInfo.avatarUrl,\r\n\t\t\t\t\t\t\tcity: getData.userInfo.city,\r\n\t\t\t\t\t\t\tcountry: getData.userInfo.country,\r\n\t\t\t\t\t\t\tgender: getData.userInfo.gender,\r\n\t\t\t\t\t\t\tlanguage: getData.userInfo.language,\r\n\t\t\t\t\t\t\tnickName: getData.userInfo.nickName,\r\n\t\t\t\t\t\t\tprovince: getData.userInfo.province,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tget(loginUrl, obj, true)\r\n\t\t\t\t\t.then((data)=>{\r\n\t\t\t\t\t\tconsole.log(data,11)\r\n\t\t\t\t\t\tvar uid = data.uid;\r\n\t\t\t\t\t\tvar tmpObj = {uid, ...obj.userInfo};\r\n\t\t\t\t\t\tuni.setStorageSync('userInfo',tmpObj);\r\n\t\t\t\t\t\tthat.userInfo = tmpObj;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((ex)=>{\r\n\t\t\t\t\t\tshowToast('登陆失败');\r\n\t\t\t\t\t});\r\n                });\r\n            }\r\n        },\r\n\t\t//预览打赏图片\r\n\t\tpreviewImage(event){\r\n\t\t\tvar imgUrl = event.target.dataset.src;\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: imgUrl,\r\n\t\t\t\turls: [imgUrl]\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.vue","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\extract-text-webpack-plugin\\\\dist\\\\loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\vue-style-loader!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\css-var-loader.js!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\style-compiler\\\\index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b94d74a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\css-upx-loader.js?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":1}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\postcss-loader?{\\\"config\\\":{\\\"path\\\":\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\.postcssrc.js\\\"},\\\"sourceMap\\\":true}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\less-loader?{\\\"sourceMap\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=styles&index=0!./YearProgress.vue\")\n}\nvar normalizeComponent = require(\"!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\node_modules\\\\babel-loader?{\\\"babelrc\\\":false,\\\"retainLines\\\":true,\\\"presets\\\":[[\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-env\\\",{\\\"modules\\\":\\\"commonjs\\\",\\\"targets\\\":{\\\"browsers\\\":[\\\"> 1%\\\",\\\"last 2 versions\\\",\\\"not ie <= 8\\\"]}}],\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-stage-2\\\"],\\\"plugins\\\":[[\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-runtime\\\",{\\\"helpers\\\":false,\\\"polyfill\\\":false,\\\"regenerator\\\":true,\\\"moduleName\\\":\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-runtime\\\"}],\\\"D:\\\\\\\\ruanjian\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-decorators-legacy\\\"]}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=script&index=0!./YearProgress.vue\"\n/* template */\nimport __vue_template__ from \"!!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\template-compiler\\\\index?{\\\"id\\\":\\\"data-v-7b94d74a\\\",\\\"hasScoped\\\":true,\\\"preserveWhitespace\\\":false}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\preprocessor-loader.js?{\\\"type\\\":\\\"html\\\",\\\"context\\\":{\\\"MP-WEIXIN\\\":true}}!D:\\\\ruanjian\\\\HBuilderX\\\\plugins\\\\uniapp\\\\lib\\\\mpvue-loader\\\\lib\\\\selector?type=template&index=0!./YearProgress.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b94d74a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"E:\\\\我的资料\\\\mytest\\\\uniapp\\\\我的音乐 - 副本\\\\components\\\\YearProgress.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] YearProgress.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7b94d74a\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7b94d74a\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// E:/我的资料/mytest/uniapp/我的音乐 - 副本/components/YearProgress.vue\n// module id = 31\n// module chunks = 2","\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {\r\n    data(){\r\n        return {\r\n        }\r\n    },\r\n    created(){\r\n        \r\n    },\r\n    methods: {\r\n        getDayOfYear(){\r\n            return this.isLeapYear? 366: 355;\r\n        },\r\n        //判断当前是闰年还是平年，从而判断当前有355/366天\r\n        isLeapYear(){\r\n            if(this.year %400 ===0){\r\n                return true;\r\n            }else if(this.year%4===0 && year%100!==0){\r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        year(){\r\n            return new Date().getFullYear();    \r\n        },\r\n        days(){\r\n            let start = new Date();\r\n            start.setMonth(0);\r\n            start.setDate(1);\r\n            //设置start是今年的第一天\r\n            let offset = Date.now() - start.getTime();\r\n            return Math.floor(offset/1000/60/60/24)+1;\r\n        },\r\n        progressData(){\r\n            return (this.days*100/this.getDayOfYear()).toFixed(1);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./E:/我的资料/mytest/uniapp/我的音乐 - 副本/components/YearProgress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"progressbar\"\n  }, [_c('progress', {\n    attrs: {\n      \"percent\": _vm.progressData,\n      \"stroke-width\": \"8\",\n      \"show-info\": \"\",\n      \"activeColor\": \"#EA5A49\",\n      \"backgroundColor\": \"#333\",\n      \"active\": \"true\"\n    }\n  }), _c('p', {\n    staticClass: \"tip\"\n  }, [_vm._v(_vm._s(_vm.year) + \"年已经过去的\" + _vm._s(_vm.days) + \"天\")])], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-7b94d74a\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-7b94d74a\",\"hasScoped\":true,\"preserveWhitespace\":false}!./lib/preprocessor-loader.js?{\"type\":\"html\",\"context\":{\"MP-WEIXIN\":true}}!./lib/mpvue-loader/lib/selector.js?type=template&index=0!E:/我的资料/mytest/uniapp/我的音乐 - 副本/components/YearProgress.vue\n// module id = 34\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"userinfo\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.userInfo.avatarUrl,\n      \"alt\": \"\"\n    }\n  }), (_vm.userInfo.nickName) ? _c('p', {\n    staticClass: \"nickname\"\n  }, [_vm._v(_vm._s(_vm.userInfo.nickName))]) : _c('button', {\n    staticClass: \"login-btn\",\n    attrs: {\n      \"open-type\": \"getUserInfo\",\n      \"eventid\": 'PdB-0'\n    },\n    on: {\n      \"getuserinfo\": _vm.onGotUserInfo\n    }\n  }, [_vm._v(\"点击登陆\")])], 1), _c('YearProgress', {\n    attrs: {\n      \"mpcomid\": '4P1-0'\n    }\n  }), _c('button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.userInfo.nickName),\n      expression: \"userInfo.nickName\"\n    }],\n    staticClass: \"btn\",\n    attrs: {\n      \"eventid\": '6qh-1'\n    },\n    on: {\n      \"click\": _vm.scanBook\n    }\n  }, [_vm._v(\"添加图书\")]), _c('div', {\n    staticClass: \"reward-div\"\n  }, [_c('image', {\n    attrs: {\n      \"src\": _vm.rewardImg,\n      \"data-src\": _vm.rewardImg,\n      \"eventid\": 'sBu-2'\n    },\n    on: {\n      \"click\": _vm.previewImage\n    }\n  }), _c('p', [_vm._v(\"点击预览图片，长按图片扫一扫\")])], 1)], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-0f5c5fe2\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-0f5c5fe2\",\"hasScoped\":false,\"preserveWhitespace\":false}!./lib/preprocessor-loader.js?{\"type\":\"html\",\"context\":{\"MP-WEIXIN\":true}}!./lib/mpvue-loader/lib/selector.js?type=template&index=0!E:/我的资料/mytest/uniapp/我的音乐 - 副本/pages/me/index.vue\n// module id = 35\n// module chunks = 2"],"sourceRoot":""}